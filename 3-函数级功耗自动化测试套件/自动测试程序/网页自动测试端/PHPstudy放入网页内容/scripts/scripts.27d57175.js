"use strict";angular.module("cattleApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("cattleApp").controller("MainCtrl",["$scope",function(a){a.onLoad=function(){$.getJSON("json/abc.json",function(b){console.log(b);for(var c=0;c<b.length;c++)a.addNode(b[c].name,b[c].time,b[c].ip)})},a.onMouseClick=function(a){a.onclick=function(){var b=document.getElementsByTagName("tbody")[0],c=a.parentNode.parentNode;b.removeChild(c)}},a.addNode=function(b,c,d){for(var e=document.getElementsByTagName("tbody")[0],f=document.createElement("tr"),g=document.createElement("td"),h=document.createElement("select"),i=[["msp","密集计算-Pi值"],["msh","密集计算-图像测合"],["fir","文件读"],["fiw","文件写"],["itd","网络传输-TCP"],["iud","网络传输-UDP"],["iht","网络传输-HTTP"],["ift","网络传输-FTP"],["vpa","多媒体-音频播放"],["vpv","多媒体-视频播放"],["vca","多媒体-音频采集"],["vcv","多媒体-视频采集"],["dia","语音通话"],["mes","短信收发"],["msr","内存操作-读"],["msw","内存操作-写"],["tcm","文字聊天"],["fup","文件上传"],["fdn","文件下载"],["web","网页浏览"],["ipv","在线观看视频"]],j=0;j<i.length;j++){var k=document.createElement("option");i[j][0]==b&&(k.selected=!0),k.value=i[j][0],k.innerHTML=i[j][1],h.appendChild(k)}g.appendChild(h),f.appendChild(g);var l=document.createElement("td"),m=document.createElement("input");m.name="time",m.type="text",m.value=c,m.placeholder="请输入测试时间！",l.appendChild(m),f.appendChild(l);var n=document.createElement("td"),o=document.createElement("input");o.name="ipAddress",o.type="text",o.value=d,o.placeholder="请输入IP地址！",n.appendChild(o),f.appendChild(n);var p=document.createElement("td"),q=document.createElement("button");q.className="btn btn-danger btn-sm",q.innerHTML="删除",p.appendChild(q),f.appendChild(p),e.appendChild(f),a.onMouseClick(q)},a.addNewNode=function(){for(var b=document.getElementsByTagName("tbody")[0],c=document.createElement("tr"),d=document.createElement("td"),e=document.createElement("select"),f=[["msp","密集计算-Pi值"],["msh","密集计算-图像测合"],["fir","文件读"],["fiw","文件写"],["itd","网络传输-TCP"],["iud","网络传输-UDP"],["iht","网络传输-HTTP"],["ift","网络传输-FTP"],["vpa","多媒体-音频播放"],["vpv","多媒体-视频播放"],["vca","多媒体-音频采集"],["vcv","多媒体-视频采集"],["dia","语音通话"],["mes","短信收发"],["msr","内存操作-读"],["msw","内存操作-写"],["tcm","文字聊天"],["fup","文件上传"],["fdn","文件下载"],["web","网页浏览"],["ipv","在线观看视频"]],g=0;g<f.length;g++){var h=document.createElement("option");h.value=f[g][0],h.innerHTML=f[g][1],e.appendChild(h)}d.appendChild(e),c.appendChild(d);var i=document.createElement("td"),j=document.createElement("input");j.name="time",j.type="text",j.placeholder="请输入测试时间！",i.appendChild(j),c.appendChild(i);var k=document.createElement("td"),l=document.createElement("input");l.name="ipAddress",l.type="text",l.placeholder="请输入IP地址！",k.appendChild(l),c.appendChild(k);var m=document.createElement("td"),n=document.createElement("button");n.className="btn btn-danger btn-sm",n.innerHTML="删除",m.appendChild(n),c.appendChild(m),b.appendChild(c),a.onMouseClick(n)},a.saveNode=function(){for(var a=document.getElementsByTagName("tr"),b=[],c=1;c<a.length;c++){for(var d=a[c].childNodes,e={},f=0;f<d.length-1;f++){var g=d[f].childNodes;0==f?e.name=g[0].value:1==f?e.time=g[0].value:2==f&&(e.ip=g[0].value)}b.push(e)}var h=JSON.stringify(b),i="json/believe.php?tag=add";$.ajax({type:"POST",url:i,data:{param:h},dataType:"json",success:function(){console.log("success!")},error:function(){alert("failed!")}}).done(function(){alert("保存成功！")})},a.onLoad()}]),angular.module("cattleApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);